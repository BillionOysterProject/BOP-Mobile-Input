<ion-view title="{{title}}" class="protocol-section {{sectionMeta.machineName}}">
	<form name="sectionForm" novalidate="" ng-submit="onTapSave(sectionForm.$valid)">
		<ion-nav-buttons side="left">
			<!--<button menu-toggle="left" class="button button-icon icon ion-navicon"></button>-->
		</ion-nav-buttons>
		<ion-nav-buttons side="right">
			<button class="button button-clear button-positive" ng-click="showHelp(protocolMetadata.num, sectionMeta.machineName)">Help</button>
		</ion-nav-buttons>

		<ion-content class="has-header" scroll="false">

			<div ng-init="setFormScope(sectionForm)"></div>
			<ion-list>
				<h2 class="padding">{{sectionMeta.title}}</h2>

				<div class="item item-input bop-icon-right"
				     ng-class="{ 'has-error' : sectionForm.location.$invalid && sectionForm.$submitted}">
					<span class="input-label">Location</span>
					<input name="location"
					       type="text"
					       placeholder="lat,lng"
					       ng-model="section.location"
					       latlng
					       >
					<span class="button button-clear button-positive icon ion-pinpoint"
					        ng-click="setLocationUsingGPS()"></span>
				</div>
				<div ng-messages="sectionForm.location.$error"
				     class="form-errors"
				     ng-show="sectionForm.location.$invalid && sectionForm.$submitted">
					<div ng-messages-include="client/views/partials/form-errors.ng.html"></div>
				</div>

	            <datamap
	                style="background:#75C1F1"
	                map="cageLocationMap"
	                zoomable
	                plugins="mapPlugins"
	                plugin-data="mapPluginData"
	                >
	            </datamap>

				<!--<bop-static-map ng-if="sectionForm.location.$valid && section.location" location="section.location"></bop-static-map>-->

			</ion-list>
		</ion-content>
			<ion-footer-bar class="no-padding">
				<button class="button button-full button-footer"
				        padding="true"
				        type="submit"
				        >Save</button>
			</ion-footer-bar>
	</form>
</ion-view>